<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Age</title>
    <%- include('../ejs/header.ejs') %>
    <style>
      body {
        background-color: bisque;
        font-family: "Lucida Sans", "Lucida Sans Regular", "Lucida Grande",
          "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
      }
      h1 {
        text-align: center;
        color: #cb9df0;
        font-size: 40px;
        font-family: Georgia;
        font-style: oblique;
        font-weight: 400;
        text-decoration: 2px solid underline;
      }
      form {
        width: 70%;
        margin: auto;
      }
      .button {
        display: flex;
        justify-content: center;
      }
      .form-control {
        color: aquamarine;
        font-weight: 700;
        font-style: oblique;
        background-color: darkgoldenrod;
      }
      .card {
        margin: auto;
        width: 90%;
        background-color: aliceblue;
      }

      #age {
        border-right: 1px solid black;
      }
      .icon {
        font-size: 9vw; /* Makes the font size responsive to viewport width */
      }
      @media (min-width: 768px) {
        .icon {
          font-size: 4vw; /* Adjust size for medium and larger screens */
        }
      }
      @media (min-width: 1200px) {
        .icon {
          font-size: 2vw; /* Adjust size for extra large screens */
        }
      }

      .summary {
        display: flex;
        justify-content: space-evenly;
      }

      .dull {
        opacity: 0.5;
      }
      .minDull {
        opacity: 0.89;
      }
    </style>
  </head>
  <body>
    <h1>Age</h1>
    <form action="/age" method="post">
      <div class="input-group mb-3">
        <span class="input-group-text" id="basic-addon1">Date of birth</span>
        <input
          type="date"
          class="form-control"
          name="date"
          value="2003-10-27"
        />
      </div>
      <div class="button">
        <button type="submit" class="btn btn-outline-warning">Submit</button>
      </div>
      <hr />
    </form>
    <div class="card text-center">
      <div class="container text-center">
        <div class="row">
          <div class="col">
            <h4>Your DOB: <%= date %></h4>
          </div>
          <hr />
        </div>
        <div class="row">
          <div class="col" id="age">
            <h2 style="font-weight: 200" class="dull">Age</h2>
            <h3 style="display: inline-block; color: orangered">
              <%= Age.years %>
            </h3>
            <span class="dull">years</span>
            <br />
            <p class="dull"><%= Age.months %> months | <%= Age.days %> days</p>
          </div>
          <div class="col">
            <p style="color: orangered">Next birthday</p>
            <i
              class="fa-solid fa-cake-candles icon"
              style="color: orangered"
            ></i>
            <br />
            <p class="dull"><%= Age.nextBirthDate.dName %></p>
            <p class="dull">
              <%= Age.nextBirthDate.months %> months | <%=
              Age.nextBirthDate.days %> days
            </p>
          </div>
        </div>
        <hr />
        <div class="row">
          <div class="col">
            <h4 style="color: orangered">Summary</h4>
            <div>
              <div class="summary dull">
                <span>Years</span><span>Months</span><span>Weeks</span>
              </div>
              <div class="summary minDull">
                <span><%= Age.years %></span
                ><span><%= (Age.years * 12)+Number(Age.months)%></span>
                <span
                  ><%= Math.ceil(((Age.years * 365)+
                  (Age.months*30)+(Number(Age.days)))/7) %></span
                >
              </div>
            </div>
            <br />
            <div>
              <div class="summary dull">
                <span>Days</span><span>Hours</span><span>Minutes</span>
              </div>
              <div class="summary minDull">
                <span>
                  <%= Math.ceil(((Age.years * 365.25) + (Age.months * 30.44) +
                  Number(Age.days))) %> </span
                ><span>
                  <%= Math.ceil(((Age.years * 365.25) + (Age.months * 30.44) +
                  Number(Age.days)) * 24) %> </span
                ><span>
                  <%= Math.ceil((((Age.years * 365.25) + (Age.months * 30.44) +
                  Number(Age.days)) * 24) * 60) %>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <%- include('../ejs/footer.ejs') %>
  </body>
</html>
